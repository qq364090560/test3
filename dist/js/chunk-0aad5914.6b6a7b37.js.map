{"version":3,"sources":["webpack:///./src/components/page/sysmanager/usermanager.vue?5907","webpack:///./src/components/page/sysmanager/usermanager.vue?ea80","webpack:///src/components/page/sysmanager/usermanager.vue","webpack:///./src/components/page/sysmanager/usermanager.vue?31f3","webpack:///./src/components/page/sysmanager/usermanager.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","delData","length","on","delAll","model","value","callback","$$v","searchInfo","expression","getUsers","$event","addUserVisible","directives","name","rawName","ref","users","handleSelectionChange","formatterState","scopedSlots","_u","key","fn","scope","handleEdit","$index","row","handleDelete","total","pageSize","currentChange","editUserVisible","confirmClose","userForm","editRule","formLabelWidth","$set","slot","nativeOn","editUser","apply","arguments","addUserForm","addUserRule","saveUser","staticRenderFns","data","url","pageNo","isShowloading","username","rolename","isable","methods","trim","page","getUserList","params","then","val","getAddUser","message","type","$confirm","delIds","getDeleUser","Object","assign","userid","getDeleteOne","$refs","validate","valid","getEditUser","done","testFn","$axios","get","console","log","res","testApi","mounted","component"],"mappings":"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","file":"js/chunk-0aad5914.6b6a7b37.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./usermanager.vue?vue&type=style&index=0&id=6e3adc58&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"crumbs\"},[_c('el-breadcrumb',{attrs:{\"separator\":\"/\"}},[_c('el-breadcrumb-item',[_vm._v(\"用户管理\")])],1)],1),_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"handle-box\"},[_c('el-button',{staticClass:\"handle-del mr10\",attrs:{\"type\":\"primary\",\"icon\":\"delete\",\"disabled\":this.delData.length===0},on:{\"click\":_vm.delAll}},[_vm._v(\"批量删除\")]),_c('el-input',{staticClass:\"handle-input mr10\",attrs:{\"placeholder\":\"筛选关键词\"},model:{value:(_vm.searchInfo),callback:function ($$v) {_vm.searchInfo=$$v},expression:\"searchInfo\"}}),_c('el-button',{attrs:{\"type\":\"primary\",\"icon\":\"search\"},on:{\"click\":_vm.getUsers}},[_vm._v(\"搜索\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){_vm.addUserVisible=true}}},[_vm._v(\"新建用户\")])],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isShowloading),expression:\"isShowloading\"}],ref:\"multipleTable\",staticClass:\"table\",attrs:{\"data\":_vm.users,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"orderNum\",\"label\":\"序号\",\"sortable\":\"\",\"width\":\"150\"}}),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"prop\":\"rolename\",\"label\":\"角色名称\"}}),_c('el-table-column',{attrs:{\"prop\":\"isable\",\"label\":\"状态\",\"formatter\":_vm.formatterState}}),_c('el-table-column',{attrs:{\"prop\":\"loginTime\",\"label\":\"登录次数\"}}),_c('el-table-column',{attrs:{\"prop\":\"loginDate\",\"label\":\"登录时间\"}}),_c('el-table-column',{attrs:{\"prop\":\"creater\",\"label\":\"创建者\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"180\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.handleEdit(scope.$index, scope.row)}}},[_vm._v(\"编辑\")]),_c('el-button',{staticClass:\"red\",attrs:{\"type\":\"text\",\"icon\":\"el-icon-delete\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('div',{staticClass:\"pagination\"},[_c('el-pagination',{attrs:{\"background\":\"\",\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"page-size\":_vm.pageSize},on:{\"current-change\":_vm.currentChange}})],1),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],ref:\"editUserForm\",attrs:{\"title\":\"修改信息\",\"visible\":_vm.editUserVisible,\"before-close\":_vm.confirmClose},on:{\"update:visible\":function($event){_vm.editUserVisible=$event}}},[_c('el-form',{ref:\"editUserForm\",attrs:{\"model\":_vm.userForm,\"rules\":_vm.editRule}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"label-width\":_vm.formLabelWidth,\"prop\":\"username\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.userForm.username),callback:function ($$v) {_vm.$set(_vm.userForm, \"username\", $$v)},expression:\"userForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":_vm.formLabelWidth}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.userForm.isable),callback:function ($$v) {_vm.$set(_vm.userForm, \"isable\", $$v)},expression:\"userForm.isable\"}},[_vm._v(\"正常\")]),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.userForm.isable),callback:function ($$v) {_vm.$set(_vm.userForm, \"isable\", $$v)},expression:\"userForm.isable\"}},[_vm._v(\"禁用\")])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.editUserVisible=false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.editUser.apply(null, arguments)}}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{directives:[{name:\"dialogDrag\",rawName:\"v-dialogDrag\"}],ref:\"addUserForm\",attrs:{\"title\":\"新建用户\",\"visible\":_vm.addUserVisible},on:{\"update:visible\":function($event){_vm.addUserVisible=$event}}},[_c('el-form',{attrs:{\"model\":_vm.addUserForm,\"rules\":_vm.addUserRule}},[_c('el-form-item',{attrs:{\"label\":\"用户名\",\"label-width\":_vm.formLabelWidth,\"prop\":\"username\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.addUserForm.username),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"username\", $$v)},expression:\"addUserForm.username\"}})],1),_c('el-form-item',{attrs:{\"label\":\"角色名称\",\"label-width\":_vm.formLabelWidth,\"prop\":\"rolename\"}},[_c('el-select',{model:{value:(_vm.addUserForm.rolename),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"rolename\", $$v)},expression:\"addUserForm.rolename\"}},[_c('el-option',{attrs:{\"label\":\"admin\",\"value\":\"admin\"}}),_c('el-option',{attrs:{\"label\":\"管理员\",\"value\":\"管理员\"}}),_c('el-option',{attrs:{\"label\":\"超级管理员\",\"value\":\"超级管理员\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":\"状态\",\"label-width\":_vm.formLabelWidth}},[_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.addUserForm.isable),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"isable\", $$v)},expression:\"addUserForm.isable\"}},[_vm._v(\"正常\")]),_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.addUserForm.isable),callback:function ($$v) {_vm.$set(_vm.addUserForm, \"isable\", $$v)},expression:\"addUserForm.isable\"}},[_vm._v(\"禁用\")])],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addUserVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.saveUser}},[_vm._v(\"确 定\")])],1)],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <div class=\"crumbs\">\r\n      <el-breadcrumb separator=\"/\">\r\n        <el-breadcrumb-item>用户管理</el-breadcrumb-item>\r\n      </el-breadcrumb>\r\n    </div>\r\n    <div class=\"container\">\r\n      <div class=\"handle-box\">\r\n        <el-button\r\n          type=\"primary\"\r\n          icon=\"delete\"\r\n          class=\"handle-del mr10\"\r\n          @click=\"delAll\"\r\n          :disabled=\"this.delData.length===0\"\r\n        >批量删除</el-button>\r\n        <el-input v-model=\"searchInfo\" placeholder=\"筛选关键词\" class=\"handle-input mr10\"></el-input>\r\n        <el-button type=\"primary\" icon=\"search\" @click=\"getUsers\">搜索</el-button>\r\n        <el-button type=\"primary\" @click=\"addUserVisible=true\">新建用户</el-button>\r\n      </div>\r\n      <el-table\r\n        :data=\"users\"\r\n        border\r\n        class=\"table\"\r\n        ref=\"multipleTable\"\r\n        @selection-change=\"handleSelectionChange\"\r\n        v-loading=\"isShowloading\"\r\n      >\r\n        <el-table-column type=\"selection\" width=\"55\" align=\"center\"></el-table-column>\r\n        <el-table-column prop=\"orderNum\" label=\"序号\" sortable width=\"150\"></el-table-column>\r\n        <el-table-column prop=\"username\" label=\"用户名\" width=\"120\"></el-table-column>\r\n        <el-table-column prop=\"rolename\" label=\"角色名称\"></el-table-column>\r\n        <el-table-column prop=\"isable\" label=\"状态\" :formatter=\"formatterState\"></el-table-column>\r\n        <el-table-column prop=\"loginTime\" label=\"登录次数\"></el-table-column>\r\n        <el-table-column prop=\"loginDate\" label=\"登录时间\"></el-table-column>\r\n        <el-table-column prop=\"creater\" label=\"创建者\"></el-table-column>\r\n        <el-table-column label=\"操作\" width=\"180\" align=\"center\">\r\n          <template slot-scope=\"scope\">\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-edit\"\r\n              @click=\"handleEdit(scope.$index, scope.row)\"\r\n            >编辑</el-button>\r\n            <el-button\r\n              type=\"text\"\r\n              icon=\"el-icon-delete\"\r\n              class=\"red\"\r\n              @click=\"handleDelete(scope.$index, scope.row)\"\r\n            >删除</el-button>\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <div class=\"pagination\">\r\n        <el-pagination\r\n          background\r\n          @current-change=\"currentChange\"\r\n          layout=\"prev, pager, next\"\r\n          :total=\"total\"\r\n          :page-size=\"pageSize\"\r\n        ></el-pagination>\r\n      </div>\r\n      <!-- 编辑框 -->\r\n      <el-dialog\r\n        title=\"修改信息\"\r\n        :visible.sync=\"editUserVisible\"\r\n        ref=\"editUserForm\"\r\n        :before-close=\"confirmClose\"\r\n        v-dialogDrag\r\n      >\r\n        <el-form :model=\"userForm\" :rules=\"editRule\" ref=\"editUserForm\">\r\n          <el-form-item label=\"用户名\" :label-width=\"formLabelWidth\" prop=\"username\">\r\n            <el-input v-model=\"userForm.username\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\" :label-width=\"formLabelWidth\">\r\n            <el-radio v-model=\"userForm.isable\" label=\"1\">正常</el-radio>\r\n            <el-radio v-model=\"userForm.isable\" label=\"0\">禁用</el-radio>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"editUserVisible=false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click.native=\"editUser\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      <!-- 新建用户 -->\r\n      <el-dialog title=\"新建用户\" :visible.sync=\"addUserVisible\" ref=\"addUserForm\" v-dialogDrag>\r\n        <el-form :model=\"addUserForm\" :rules=\"addUserRule\">\r\n          <el-form-item label=\"用户名\" :label-width=\"formLabelWidth\" prop=\"username\">\r\n            <el-input v-model=\"addUserForm.username\" autocomplete=\"off\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"角色名称\" :label-width=\"formLabelWidth\" prop=\"rolename\">\r\n            <el-select v-model=\"addUserForm.rolename\">\r\n              <el-option label=\"admin\" value=\"admin\"></el-option>\r\n              <el-option label=\"管理员\" value=\"管理员\"></el-option>\r\n              <el-option label=\"超级管理员\" value=\"超级管理员\"></el-option>\r\n            </el-select>\r\n          </el-form-item>\r\n          <el-form-item label=\"状态\" :label-width=\"formLabelWidth\">\r\n            <el-radio v-model=\"addUserForm.isable\" label=\"1\">正常</el-radio>\r\n            <el-radio v-model=\"addUserForm.isable\" label=\"0\">禁用</el-radio>\r\n          </el-form-item>\r\n        </el-form>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"addUserVisible = false\">取 消</el-button>\r\n          <el-button type=\"primary\" @click=\"saveUser\">确 定</el-button>\r\n        </div>\r\n      </el-dialog>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n// import {\r\n//   getUserList,\r\n//   getDeleUser,\r\n//   getEditUser,\r\n//   getAddUser,\r\n//   getDeleteOne,\r\n//   testApi\r\n// } from \"../../../api/api\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      url:\"\",\r\n      searchInfo: \"\",\r\n      users: [],\r\n      total: 0,\r\n      pageNo: 1,\r\n      pageSize: 20,\r\n      isShowloading: false,\r\n      delData: [], //删除的数据\r\n      editUserVisible: false, //是否显示编辑\r\n      addUserVisible: false, //新建用户框\r\n      userForm: {}, //编辑数据\r\n      addUserForm: {\r\n        username: \"\",\r\n        rolename: \"\",\r\n        isable: \"0\"\r\n      }, //添加用户数据\r\n      addUserRule: {\r\n        username: [\r\n          { required: true, message: \"请输入用户名\", trigger: \"blur\" }\r\n        ],\r\n        rolename: [\r\n          {\r\n            required: true,\r\n            message: \"请选择角色\",\r\n            trigger: \"change\"\r\n          }\r\n        ]\r\n      },\r\n      editRule: {\r\n        username: [\r\n          {\r\n            required: true,\r\n            message: \"请输入姓名\",\r\n            trigger: \"blur\"\r\n          }\r\n        ]\r\n      },\r\n      formLabelWidth: \"120px\"\r\n    };\r\n  },\r\n  methods: {\r\n    formatterState(row, cloumn) {\r\n      return row.isable == \"1\" ? \"正常\" : \"禁用\";\r\n    },\r\n    getUsers() {\r\n      this.isShowloading = true;\r\n      let params = {\r\n        searchInfo: this.searchInfo.trim(),\r\n        page: this.pageNo\r\n      };\r\n      getUserList(params).then(res => {\r\n        this.users = res.data.users;\r\n        this.total = res.data.total;\r\n        this.isShowloading = false;\r\n      });\r\n    },\r\n    currentChange(val) {\r\n      this.pageNo = val;\r\n      this.getUsers();\r\n    },\r\n    handleSelectionChange(delData) {\r\n      this.delData = delData;\r\n    },\r\n    saveUser() {\r\n      let params = Object.assign({}, this.addUserForm);\r\n      params.username = params.username.trim();\r\n      getAddUser(params).then(res => {\r\n        this.$message({\r\n          message: \"添加成功\",\r\n          type: \"success\"\r\n        });\r\n        this.addUserVisible = false;\r\n        this.addUserForm = {};\r\n        this.getUsers();\r\n      });\r\n    },\r\n    delAll() {\r\n      this.$confirm(\"确认删除该用户吗?\", \"提示\", {\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.isShowloading = true;\r\n        let delIds = this.delData.map(item => item.userid).toString();\r\n        let params = {\r\n          delIds: delIds\r\n        };\r\n        getDeleUser(params).then(res => {\r\n          this.isShowloading = false;\r\n          this.$message({\r\n            message: \"删除成功\",\r\n            type: \"success\"\r\n          });\r\n          this.getUsers();\r\n        });\r\n      });\r\n    },\r\n    handleEdit(index, row) {\r\n      this.editUserVisible = true;\r\n      this.userForm = Object.assign({}, row);\r\n    },\r\n    handleDelete(index, row) {\r\n      let params = {\r\n        userid: row.userid\r\n      };\r\n      this.$confirm(\"确认删除该用户？\", \"提示\", {\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        getDeleteOne(params).then(res => {\r\n          this.$message({\r\n            type: \"success\",\r\n            message: \"删除成功\"\r\n          });\r\n          this.getUsers();\r\n        });\r\n      });\r\n    },\r\n    editUser() {\r\n      debugger\r\n      this.$refs['editUserForm'].validate((valid) => {\r\n        debugger\r\n        if (valid) {\r\n          let params = this.userForm;\r\n          getEditUser(params)\r\n            .then(res => {\r\n              this.$message({\r\n                type: \"success\",\r\n                message: res.data.msg\r\n              });\r\n              this.getUsers();\r\n              this.editUserVisible = false;\r\n              this.userForm = {};\r\n            })\r\n            .bind(this);\r\n        }\r\n      });\r\n    },\r\n    confirmClose(done) {\r\n      this.$confirm(\"确认关闭将丢失已编辑内容？\", \"提示\", {\r\n        type: \"warning\"\r\n      }).then(() => {\r\n        this.userForm = {};\r\n        done();\r\n      });\r\n    },\r\n    testFn(){\r\n      this.url = '/ms/table/list';\r\n      this.$axios.get(this.url).then(res=>{\r\n        console.log(res)\r\n      })\r\n      testApi().then(res=>{\r\n        console.log(res)\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    //this.getUsers();\r\n    this.testFn();\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.handle-box {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.handle-select {\r\n  width: 120px;\r\n}\r\n\r\n.handle-input {\r\n  width: 300px;\r\n  display: inline-block;\r\n}\r\n.del-dialog-cnt {\r\n  font-size: 16px;\r\n  text-align: center;\r\n}\r\n.table {\r\n  width: 100%;\r\n  font-size: 14px;\r\n}\r\n.red {\r\n  color: #ff0000;\r\n}\r\n.mr10 {\r\n  margin-right: 10px;\r\n}\r\n</style>\r\n\r\n","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./usermanager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./usermanager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./usermanager.vue?vue&type=template&id=6e3adc58&scoped=true&\"\nimport script from \"./usermanager.vue?vue&type=script&lang=js&\"\nexport * from \"./usermanager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./usermanager.vue?vue&type=style&index=0&id=6e3adc58&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6e3adc58\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}