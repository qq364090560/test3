(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b746d3dc"],{"195e":function(e,t,r){"use strict";r("3235")},3235:function(e,t,r){},d4c3:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-container",{staticClass:"container"},[r("el-dialog",{attrs:{title:"添加菜单",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"菜单中文名",prop:"mnameCn"}},[r("el-input",{model:{value:e.addForm.mnameCn,callback:function(t){e.$set(e.addForm,"mnameCn",t)},expression:"addForm.mnameCn"}})],1),r("el-form-item",{attrs:{label:"站点ID",prop:"mid"}},[r("el-input",{model:{value:e.addForm.msiteId,callback:function(t){e.$set(e.addForm,"msiteId",t)},expression:"addForm.msiteId"}})],1),r("el-form-item",{attrs:{label:"唯一标识",prop:"msign"}},[r("el-input",{model:{value:e.addForm.msign,callback:function(t){e.$set(e.addForm,"msign",t)},expression:"addForm.msign"}})],1),r("el-form-item",{attrs:{label:"父级菜单",prop:"mparentMenuId"}},[r("el-cascader",{attrs:{options:e.options,props:e.props,clearable:""},on:{change:e.handleChange}})],1),r("el-form-item",{attrs:{label:"路由",prop:"mhref"}},[r("el-input",{model:{value:e.addForm.mhref,callback:function(t){e.$set(e.addForm,"mhref",t)},expression:"addForm.mhref"}})],1),r("el-form-item",{attrs:{label:"功能",prop:"mfunction"}},[r("el-input",{model:{value:e.addForm.mfunction,callback:function(t){e.$set(e.addForm,"mfunction",t)},expression:"addForm.mfunction"}})],1),r("el-form-item",{attrs:{label:"排序",prop:"morder"}},[r("el-input",{attrs:{placeholder:"排序是从小到大"},model:{value:e.addForm.morder,callback:function(t){e.$set(e.addForm,"morder",t)},expression:"addForm.morder"}})],1),r("el-form-item",{attrs:{label:"图标",prop:"micon"}},[r("el-input",{model:{value:e.addForm.micon,callback:function(t){e.$set(e.addForm,"micon",t)},expression:"addForm.micon"}})],1),r("el-form-item",{attrs:{label:"停用/启用标识",prop:"mdelFlag"}},[r("el-radio-group",{model:{value:e.addForm.mdelFlag,callback:function(t){e.$set(e.addForm,"mdelFlag",t)},expression:"addForm.mdelFlag"}},[r("el-radio",{attrs:{label:0}},[e._v("停用")]),r("el-radio",{attrs:{label:1}},[e._v("启用标识")])],1)],1)],1),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:e.onClear}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary"},on:{click:e.onAdd}},[e._v("确 定")])],1)],1),r("el-card",{staticClass:"left-card"},[r("div",{staticClass:"text item"},[r("el-row",[r("el-col",[r("el-row",[r("el-col",{staticStyle:{padding:"0 5px"},attrs:{span:12}},[r("el-button",{directives:[{name:"btnShow",rawName:"v-btnShow",value:"insert",expression:"'insert'"}],staticClass:"headbtn",attrs:{type:"primary"},on:{click:e.onShow}},[e._v("添加")])],1),r("el-col",{staticStyle:{padding:"0 5px"},attrs:{span:12}},[r("el-button",{directives:[{name:"btnShow",rawName:"v-btnShow",value:"delete",expression:"'delete'"}],staticClass:"headbtn",attrs:{type:"danger"},on:{click:e.onDel}},[e._v("删除所选")])],1)],1),r("h4",{staticStyle:{padding:"10px"}},[e._v("菜单管理")])],1),r("el-col",[r("el-tree",{attrs:{data:e.data,"show-checkbox":"",props:e.defaultProps},on:{"node-click":e.handleNodeClick,check:e.isCheak}})],1)],1)],1)]),r("el-card",{staticClass:"right-card"},[e.form?r("div",{staticClass:"text item"},[e.formShow?r("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules,"label-width":"120px"}},[r("el-form-item",{attrs:{label:"菜单中文名",prop:"mnameCn"}},[r("el-input",{model:{value:e.form.mnameCn,callback:function(t){e.$set(e.form,"mnameCn",t)},expression:"form.mnameCn"}})],1),r("el-form-item",{attrs:{label:"站点ID",prop:"msiteId"}},e._l(this.sites,(function(t,o){return r("el-radio-group",{key:o,model:{value:e.form.msiteId,callback:function(t){e.$set(e.form,"msiteId",t)},expression:"form.msiteId"}},[r("el-radio",{staticStyle:{"margin-left":"20px"},attrs:{label:t.sid}},[e._v(e._s(t.sname))])],1)})),1),r("el-form-item",{attrs:{label:"唯一标识",prop:"msign"}},[r("el-input",{attrs:{readonly:""},model:{value:e.form.msign,callback:function(t){e.$set(e.form,"msign",t)},expression:"form.msign"}})],1),r("el-form-item",{attrs:{label:"父级菜单标识",prop:"mparentMenuId"}},[r("el-input",{model:{value:e.form.mparentMenuId,callback:function(t){e.$set(e.form,"mparentMenuId",t)},expression:"form.mparentMenuId"}})],1),r("el-form-item",{attrs:{label:"路由",prop:"mhref"}},[r("el-input",{model:{value:e.form.mhref,callback:function(t){e.$set(e.form,"mhref",t)},expression:"form.mhref"}})],1),r("el-form-item",{attrs:{label:"功能",prop:"mfunction"}},[r("el-checkbox-group",{model:{value:e.form.mfunction,callback:function(t){e.$set(e.form,"mfunction",t)},expression:"form.mfunction"}},[r("el-checkbox",{attrs:{label:"query"}},[e._v("查询")]),r("el-checkbox",{attrs:{label:"insert"}},[e._v("添加")]),r("el-checkbox",{attrs:{label:"delete"}},[e._v("删除")]),r("el-checkbox",{attrs:{label:"update"}},[e._v("保存")])],1)],1),r("el-form-item",{attrs:{label:"排序",prop:"morder"}},[r("el-input",{model:{value:e.form.morder,callback:function(t){e.$set(e.form,"morder",t)},expression:"form.morder"}})],1),r("el-form-item",{attrs:{label:"图标",prop:"micon"}},[r("el-input",{model:{value:e.form.micon,callback:function(t){e.$set(e.form,"micon",t)},expression:"form.micon"}})],1),r("el-form-item",{attrs:{label:"停用/启用标识",prop:"mdelFlag"}},[r("el-radio-group",{model:{value:e.form.mdelFlag,callback:function(t){e.$set(e.form,"mdelFlag",t)},expression:"form.mdelFlag"}},[r("el-radio",{attrs:{label:0}},[e._v("停用")]),r("el-radio",{attrs:{label:1}},[e._v("启用标识")])],1)],1),r("el-form-item",[r("el-button",{directives:[{name:"btnShow",rawName:"v-btnShow",value:"update",expression:"'update'"}],attrs:{type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1):r("div",[e._v("请选择左边树")])],1):e._e()])],1)},a=[],l=(r("fc02"),r("a7e5"),r("566e"),r("4ec3")),n={data:function(){return{data:[],sites:[],defaultProps:{children:"childMenu",label:"mnameCn"},formShow:!1,form:{},rules:{mnameCn:[{required:!0,message:"请输入菜单中文名",trigger:"blur"}],mid:[{required:!0,message:"请输入站点ID",trigger:"blur"}],msIteId:[{required:!0,message:"请输入站点ID",trigger:"blur"}],msign:[{required:!0,message:"请输入唯一标识",trigger:"blur"}],mparentMenuId:[{required:!0,message:"请输入父级菜单标识",trigger:"blur"}],mhref:[{required:!0,message:"请输入路由",trigger:"blur"}],mfunction:[{required:!0,message:"请输入功能",trigger:"blur"}],morder:[{required:!0,message:"请输入排序",trigger:"blur"}],mdelFlag:[{required:!0,message:"请选择停用/启用标识",trigger:"blur"}]},props:{value:"mid",label:"mnameCn",children:"childMenu",checkStrictly:!0,expandTrigger:"hover"},options:[],dialogFormVisible:!1,addForm:{},treeArr:[]}},created:function(){this.getData()},methods:{getData:function(){var e=this;Object(l["B"])().then((function(t){var r=t.data;e.data=r.menus,e.options=r.menus,e.sites=r.sites}))},handleChange:function(e){this.addForm.mparentMenuId=e[e.length-1]},onClear:function(){this.addForm={},this.dialogFormVisible=!1},onAdd:function(){var e=this;this.$refs.addForm.validate((function(t){if(!t)return alert("error submit!!"),!1;Object(l["d"])(e.addForm).then((function(t){e.$refs.addForm.resetFields(),e.dialogFormVisible=!1,e.getData()}))}))},isCheak:function(e,t){var r=this;t.checkedNodes.map((function(e){r.treeArr.push(e.mid)}))},onShow:function(){this.dialogFormVisible=!0},onDel:function(){var e=this,t={menuId:this.treeArr.join()};Object(l["m"])(t).then((function(t){e.getData(),e.$message({message:t.message,type:"success"})}))},append:function(e){var t=1,r={id:t++,label:"testtest",children:[]};e.children||this.$set(e,"testtest",[]),e.testtest.push(r)},remove:function(e,t){var r=e.parent,o=r.data.children||r.data,a=o.findIndex((function(e){return e.id===t.id}));o.splice(a,1)},renderContent:function(e,t){var r=this,o=t.node,a=t.data;t.store;return e("span",{class:"custom-tree-node"},[e("span",[o.label]),e("span",[e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return r.append(a)}}},["Append"]),e("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(){return r.remove(o,a)}}},["Delete"])])])},onSave:function(){var e=this,t=this.$common.deepClone(this.form);t.mfunction=t.mfunction.join(),console.log(t),this.$refs.form.validate((function(r){r&&Object(l["ib"])(t).then((function(t){t.status?(e.$message({message:t.message,type:"success"}),e.getData()):e.$message.error(t.message)}))}))},handleNodeClick:function(e){var t=this.$common.deepClone(e);this.form=t,this.form.mfunction?this.form.mfunction=this.form.mfunction.split(","):this.form.mfunction=[],this.formShow=!0}}},i=n,s=(r("195e"),r("cba8")),m=Object(s["a"])(i,o,a,!1,null,"83d6f028",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-b746d3dc.6a83976a.js.map