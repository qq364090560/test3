(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d836c008"],{5597:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"right-seach"},[a("el-form",{ref:"search",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"停车场"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.parkingLotId,callback:function(t){e.$set(e.search,"parkingLotId",t)},expression:"search.parkingLotId"}},e._l(e.parkData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.pName,value:e.pId}})})),1)],1),a("el-form-item",{attrs:{label:"用户id"}},[a("el-input",{attrs:{placeholder:"ID"},model:{value:e.search.userId,callback:function(t){e.$set(e.search,"userId",t)},expression:"search.userId"}})],1),a("el-form-item",{attrs:{label:"卡号"}},[a("el-input",{attrs:{placeholder:"卡号"},model:{value:e.search.icNo,callback:function(t){e.$set(e.search,"icNo",t)},expression:"search.icNo"}})],1),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{placeholder:"姓名"},model:{value:e.search.userName,callback:function(t){e.$set(e.search,"userName",t)},expression:"search.userName"}})],1),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{attrs:{placeholder:"电话"},model:{value:e.search.tel,callback:function(t){e.$set(e.search,"tel",t)},expression:"search.tel"}})],1),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},model:{value:e.search.time,callback:function(t){e.$set(e.search,"time",t)},expression:"search.time"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onQurey}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onClear}},[e._v("清空")])],1)],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("开门记录")])]),a("div",{staticClass:"tablehead"},[a("el-card",{staticClass:"box-card"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,height:"54vh","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{fixed:"",prop:"icNo",label:"卡号",width:"120"}}),a("el-table-column",{attrs:{fixed:"",prop:"userId",label:"用户id",width:"120"}}),a("el-table-column",{attrs:{prop:"userName",label:"姓名",width:"120"}}),a("el-table-column",{attrs:{prop:"tel",label:"电话",width:"120"}}),a("el-table-column",{attrs:{prop:"parkingLotName",label:"停车场名称",width:"120"}}),a("el-table-column",{attrs:{prop:"carTypeStr",label:"车辆类型"}}),a("el-table-column",{attrs:{prop:"roomNo",label:"房号"}}),a("el-table-column",{attrs:{prop:"swipeDate",label:"刷卡时间"}}),a("el-table-column",{attrs:{prop:"swipeType",label:"记录类型"}}),a("el-table-column",{attrs:{prop:"passOrNot",label:"是否通过"}}),a("el-table-column",{attrs:{prop:"doorNo",label:"控制器门号"}}),a("el-table-column",{attrs:{prop:"inOrOut",label:"进出"}}),a("el-table-column",{attrs:{prop:"reasonDetail",width:"220px",fixed:"right",label:"详细描述"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,40,80],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])],1)},r=[],l=(a("566e"),a("d91d"),a("4ec3")),i={data:function(){return{search:{time:[],consumerName:"",consumerTel:"",orderType:""},parkData:[],parkProps:{children:"",label:"pName"},pId:"",options:[{label:"新用户办卡/不充电",value:1},{label:"新用户办卡/充电",value:2},{label:"临时停车",value:3},{label:"包月续费",value:4}],tableData:[],page:1,size:10,total:0}},created:function(){this.getParkList()},methods:{getParkList:function(){var e=this,t={page:1,size:20,groupId:JSON.parse(sessionStorage.getItem("userInfo")).groupId};Object(l["ab"])(t).then((function(t){e.tableData=t.data.list}))},parkClick:function(e){this.pId=e.pId,this.getOrder()},onQurey:function(){this.getOrder(this.search)},onClear:function(){this.$refs.search.resetFields(),this.search={},this.search.orderType="",this.search.time=[],this.tableData=[],this.page=1,this.size=10,this.total=0,console.log(this.search)},getOrder:function(e){var t=this,a={page:this.page,size:this.size};e&&(this.search.userId>2e4&&(a.userId=this.search.userId-2e4||""),this.search.userId<=2e4&&(a.userId=this.search.userId||""),""!=this.search.icNo&&(a.icNo=this.search.icNo),""!=this.search.parkingLotId&&(a.parkingLotId=this.search.parkingLotId),""!=this.search.userName&&(a.userName=this.search.userName),""!=this.search.tel&&(a.tel=this.search.tel),""!=this.search.time[0]&&(a.startDate=this.search.time[0]),""!=this.search.time[1]&&(a.endDate=this.search.time[1]),""!=this.pId&&(a.parkingLotId=this.pId)),Object(l["ab"])(a).then((function(e){200==e.status&&(t.tableData=e.data.list,t.tableData.map((function(e){e.userId=e.userId?e.userId+2e4:e.userId})),t.total=e.data.count)}))},handleSizeChange:function(e){this.size=e,this.getOrder(this.search)},handleCurrentChange:function(e){this.page=e,this.getOrder(this.search)}}},c=i,o=(a("89f5"),a("cba8")),n=Object(o["a"])(c,s,r,!1,null,"04cca1bb",null);t["default"]=n.exports},"89f5":function(e,t,a){"use strict";a("d5c3")},d5c3:function(e,t,a){}}]);
//# sourceMappingURL=chunk-d836c008.e707c99b.js.map