{"version":3,"sources":["webpack:///./src/components/page/sys/menu.vue?89b6","webpack:///./src/components/page/sys/menu.vue?7cc5","webpack:///src/components/page/sys/menu.vue","webpack:///./src/components/page/sys/menu.vue?69a1","webpack:///./src/components/page/sys/menu.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","dialogFormVisible","on","$event","ref","addForm","rules","model","value","callback","$$v","$set","expression","options","props","handleChange","_v","slot","onClear","onAdd","staticStyle","directives","name","rawName","onShow","onDel","data","defaultProps","handleNodeClick","isCheak","form","_l","it","index","key","sid","_s","sname","onSave","_e","staticRenderFns","sites","children","label","formShow","mnameCn","mid","msIteId","msign","mparentMenuId","mhref","mfunction","morder","mdelFlag","treeArr","created","getData","methods","$refs","validate","node","checkedNodes","map","menuId","message","res","type","append","testtest","push","newChild","remove","splice","renderContent","Data","console","log","component"],"mappings":"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","file":"js/chunk-b746d3dc.6a83976a.js","sourcesContent":["export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=style&index=0&id=83d6f028&scoped=true&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-container',{staticClass:\"container\"},[_c('el-dialog',{attrs:{\"title\":\"添加菜单\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"addForm\",attrs:{\"model\":_vm.addForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"菜单中文名\",\"prop\":\"mnameCn\"}},[_c('el-input',{model:{value:(_vm.addForm.mnameCn),callback:function ($$v) {_vm.$set(_vm.addForm, \"mnameCn\", $$v)},expression:\"addForm.mnameCn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"站点ID\",\"prop\":\"mid\"}},[_c('el-input',{model:{value:(_vm.addForm.msiteId),callback:function ($$v) {_vm.$set(_vm.addForm, \"msiteId\", $$v)},expression:\"addForm.msiteId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"唯一标识\",\"prop\":\"msign\"}},[_c('el-input',{model:{value:(_vm.addForm.msign),callback:function ($$v) {_vm.$set(_vm.addForm, \"msign\", $$v)},expression:\"addForm.msign\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级菜单\",\"prop\":\"mparentMenuId\"}},[_c('el-cascader',{attrs:{\"options\":_vm.options,\"props\":_vm.props,\"clearable\":\"\"},on:{\"change\":_vm.handleChange}})],1),_c('el-form-item',{attrs:{\"label\":\"路由\",\"prop\":\"mhref\"}},[_c('el-input',{model:{value:(_vm.addForm.mhref),callback:function ($$v) {_vm.$set(_vm.addForm, \"mhref\", $$v)},expression:\"addForm.mhref\"}})],1),_c('el-form-item',{attrs:{\"label\":\"功能\",\"prop\":\"mfunction\"}},[_c('el-input',{model:{value:(_vm.addForm.mfunction),callback:function ($$v) {_vm.$set(_vm.addForm, \"mfunction\", $$v)},expression:\"addForm.mfunction\"}})],1),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"morder\"}},[_c('el-input',{attrs:{\"placeholder\":\"排序是从小到大\"},model:{value:(_vm.addForm.morder),callback:function ($$v) {_vm.$set(_vm.addForm, \"morder\", $$v)},expression:\"addForm.morder\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"micon\"}},[_c('el-input',{model:{value:(_vm.addForm.micon),callback:function ($$v) {_vm.$set(_vm.addForm, \"micon\", $$v)},expression:\"addForm.micon\"}})],1),_c('el-form-item',{attrs:{\"label\":\"停用/启用标识\",\"prop\":\"mdelFlag\"}},[_c('el-radio-group',{model:{value:(_vm.addForm.mdelFlag),callback:function ($$v) {_vm.$set(_vm.addForm, \"mdelFlag\", $$v)},expression:\"addForm.mdelFlag\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"停用\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"启用标识\")])],1)],1)],1),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.onClear}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onAdd}},[_vm._v(\"确 定\")])],1)],1),_c('el-card',{staticClass:\"left-card\"},[_c('div',{staticClass:\"text item\"},[_c('el-row',[_c('el-col',[_c('el-row',[_c('el-col',{staticStyle:{\"padding\":\"0 5px\"},attrs:{\"span\":12}},[_c('el-button',{directives:[{name:\"btnShow\",rawName:\"v-btnShow\",value:('insert'),expression:\"'insert'\"}],staticClass:\"headbtn\",attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onShow}},[_vm._v(\"添加\")])],1),_c('el-col',{staticStyle:{\"padding\":\"0 5px\"},attrs:{\"span\":12}},[_c('el-button',{directives:[{name:\"btnShow\",rawName:\"v-btnShow\",value:('delete'),expression:\"'delete'\"}],staticClass:\"headbtn\",attrs:{\"type\":\"danger\"},on:{\"click\":_vm.onDel}},[_vm._v(\"删除所选\")])],1)],1),_c('h4',{staticStyle:{\"padding\":\"10px\"}},[_vm._v(\"菜单管理\")])],1),_c('el-col',[_c('el-tree',{attrs:{\"data\":_vm.data,\"show-checkbox\":\"\",\"props\":_vm.defaultProps},on:{\"node-click\":_vm.handleNodeClick,\"check\":_vm.isCheak}})],1)],1)],1)]),_c('el-card',{staticClass:\"right-card\"},[(_vm.form)?_c('div',{staticClass:\"text item\"},[(_vm.formShow)?_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"菜单中文名\",\"prop\":\"mnameCn\"}},[_c('el-input',{model:{value:(_vm.form.mnameCn),callback:function ($$v) {_vm.$set(_vm.form, \"mnameCn\", $$v)},expression:\"form.mnameCn\"}})],1),_c('el-form-item',{attrs:{\"label\":\"站点ID\",\"prop\":\"msiteId\"}},_vm._l((this.sites),function(it,index){return _c('el-radio-group',{key:index,model:{value:(_vm.form.msiteId),callback:function ($$v) {_vm.$set(_vm.form, \"msiteId\", $$v)},expression:\"form.msiteId\"}},[_c('el-radio',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"label\":it.sid}},[_vm._v(_vm._s(it.sname))])],1)}),1),_c('el-form-item',{attrs:{\"label\":\"唯一标识\",\"prop\":\"msign\"}},[_c('el-input',{attrs:{\"readonly\":\"\"},model:{value:(_vm.form.msign),callback:function ($$v) {_vm.$set(_vm.form, \"msign\", $$v)},expression:\"form.msign\"}})],1),_c('el-form-item',{attrs:{\"label\":\"父级菜单标识\",\"prop\":\"mparentMenuId\"}},[_c('el-input',{model:{value:(_vm.form.mparentMenuId),callback:function ($$v) {_vm.$set(_vm.form, \"mparentMenuId\", $$v)},expression:\"form.mparentMenuId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"路由\",\"prop\":\"mhref\"}},[_c('el-input',{model:{value:(_vm.form.mhref),callback:function ($$v) {_vm.$set(_vm.form, \"mhref\", $$v)},expression:\"form.mhref\"}})],1),_c('el-form-item',{attrs:{\"label\":\"功能\",\"prop\":\"mfunction\"}},[_c('el-checkbox-group',{model:{value:(_vm.form.mfunction),callback:function ($$v) {_vm.$set(_vm.form, \"mfunction\", $$v)},expression:\"form.mfunction\"}},[_c('el-checkbox',{attrs:{\"label\":\"query\"}},[_vm._v(\"查询\")]),_c('el-checkbox',{attrs:{\"label\":\"insert\"}},[_vm._v(\"添加\")]),_c('el-checkbox',{attrs:{\"label\":\"delete\"}},[_vm._v(\"删除\")]),_c('el-checkbox',{attrs:{\"label\":\"update\"}},[_vm._v(\"保存\")])],1)],1),_c('el-form-item',{attrs:{\"label\":\"排序\",\"prop\":\"morder\"}},[_c('el-input',{model:{value:(_vm.form.morder),callback:function ($$v) {_vm.$set(_vm.form, \"morder\", $$v)},expression:\"form.morder\"}})],1),_c('el-form-item',{attrs:{\"label\":\"图标\",\"prop\":\"micon\"}},[_c('el-input',{model:{value:(_vm.form.micon),callback:function ($$v) {_vm.$set(_vm.form, \"micon\", $$v)},expression:\"form.micon\"}})],1),_c('el-form-item',{attrs:{\"label\":\"停用/启用标识\",\"prop\":\"mdelFlag\"}},[_c('el-radio-group',{model:{value:(_vm.form.mdelFlag),callback:function ($$v) {_vm.$set(_vm.form, \"mdelFlag\", $$v)},expression:\"form.mdelFlag\"}},[_c('el-radio',{attrs:{\"label\":0}},[_vm._v(\"停用\")]),_c('el-radio',{attrs:{\"label\":1}},[_vm._v(\"启用标识\")])],1)],1),_c('el-form-item',[_c('el-button',{directives:[{name:\"btnShow\",rawName:\"v-btnShow\",value:('update'),expression:\"'update'\"}],attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSave}},[_vm._v(\"保存\")])],1)],1):_c('div',[_vm._v(\"请选择左边树\")])],1):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\r\n<template>\r\n  <el-container class=\"container\">\r\n    <el-dialog title=\"添加菜单\" :visible.sync=\"dialogFormVisible\">\r\n      <el-form ref=\"addForm\" :model=\"addForm\" :rules=\"rules\" label-width=\"120px\">\r\n          <el-form-item label=\"菜单中文名\" prop=\"mnameCn\">\r\n              <el-input v-model=\"addForm.mnameCn\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"站点ID\" prop=\"mid\">\r\n              <el-input v-model=\"addForm.msiteId\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"唯一标识\" prop=\"msign\">\r\n              <el-input v-model=\"addForm.msign\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"父级菜单\" prop=\"mparentMenuId\">\r\n              <el-cascader\r\n                :options=\"options\"\r\n                :props=\"props\"\r\n                @change=\"handleChange\"\r\n                clearable>\r\n              </el-cascader>\r\n          </el-form-item>\r\n          <!-- <el-form-item label=\"父级菜单标识\" prop=\"mparentMenuId\">\r\n              <el-input v-model=\"addForm.mparentMenuId\"></el-input>\r\n          </el-form-item> -->\r\n          <el-form-item label=\"路由\" prop=\"mhref\">\r\n              <el-input v-model=\"addForm.mhref\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"功能\" prop=\"mfunction\">\r\n              <el-input v-model=\"addForm.mfunction\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"排序\" prop=\"morder\">\r\n              <el-input v-model=\"addForm.morder\" placeholder=\"排序是从小到大\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"图标\" prop=\"micon\">\r\n              <el-input v-model=\"addForm.micon\"></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"停用/启用标识\" prop=\"mdelFlag\">\r\n              <el-radio-group v-model=\"addForm.mdelFlag\">\r\n                  <el-radio :label=\"0\">停用</el-radio>\r\n                  <el-radio :label=\"1\">启用标识</el-radio>\r\n              </el-radio-group>\r\n          </el-form-item>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"onClear\">取 消</el-button>\r\n        <el-button type=\"primary\" @click=\"onAdd\">确 定</el-button>\r\n      </div>\r\n    </el-dialog>\r\n    <el-card class=\"left-card\">\r\n      <div class=\"text item\">\r\n        <el-row>\r\n          <el-col>\r\n            <el-row>\r\n              <el-col style=\"padding:0 5px\" :span=\"12\"><el-button class=\"headbtn\" type=\"primary\" @click=\"onShow\" v-btnShow=\"'insert'\">添加</el-button></el-col>\r\n              <el-col style=\"padding:0 5px\" :span=\"12\"><el-button class=\"headbtn\" type=\"danger\" @click=\"onDel\" v-btnShow=\"'delete'\">删除所选</el-button></el-col>\r\n            </el-row>\r\n            <h4 style=\"padding:10px\">菜单管理</h4>\r\n          </el-col>\r\n          <el-col>\r\n            <el-tree :data=\"data\" show-checkbox :props=\"defaultProps\" @node-click=\"handleNodeClick\" @check=\"isCheak\">\r\n            </el-tree>\r\n          </el-col>\r\n        </el-row>\r\n      </div>\r\n    </el-card>\r\n    <el-card class=\"right-card\">\r\n      <div class=\"text item\" v-if=\"form\">\r\n        <el-form ref=\"form\" :model=\"form\" :rules='rules' label-width=\"120px\" v-if=\"formShow\">\r\n            <el-form-item label=\"菜单中文名\" prop=\"mnameCn\">\r\n                <el-input v-model=\"form.mnameCn\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"站点ID\" prop=\"msiteId\">\r\n                <!-- <el-input v-model=\"form.msiteId\"></el-input> -->\r\n                <el-radio-group v-model=\"form.msiteId\" v-for=\"(it,index) in this.sites\" :key=\"index\">\r\n                  <el-radio style=\"margin-left:20px\" :label=\"it.sid\">{{it.sname}}</el-radio>\r\n                </el-radio-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"唯一标识\" prop=\"msign\">\r\n                <el-input v-model=\"form.msign\" readonly></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"父级菜单标识\" prop=\"mparentMenuId\">\r\n                <el-input v-model=\"form.mparentMenuId\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"路由\" prop=\"mhref\">\r\n                <el-input v-model=\"form.mhref\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"功能\" prop=\"mfunction\">\r\n                <!-- <el-input v-model=\"form.mfunction\"></el-input> -->\r\n                <el-checkbox-group v-model=\"form.mfunction\">\r\n                  <el-checkbox label=\"query\">查询</el-checkbox>\r\n                  <el-checkbox label=\"insert\">添加</el-checkbox>\r\n                  <el-checkbox label=\"delete\">删除</el-checkbox>\r\n                  <el-checkbox label=\"update\">保存</el-checkbox>\r\n                </el-checkbox-group>\r\n            </el-form-item>\r\n            <el-form-item label=\"排序\" prop=\"morder\">\r\n                <el-input v-model=\"form.morder\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"图标\" prop=\"micon\">\r\n                <el-input v-model=\"form.micon\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item label=\"停用/启用标识\" prop=\"mdelFlag\">\r\n                <el-radio-group v-model=\"form.mdelFlag\">\r\n                    <el-radio :label=\"0\">停用</el-radio>\r\n                    <el-radio :label=\"1\">启用标识</el-radio>\r\n                </el-radio-group>\r\n            </el-form-item>\r\n            \r\n            <el-form-item>\r\n                <el-button type=\"primary\" @click=\"onSave\" v-btnShow=\"'update'\">保存</el-button>\r\n                <!-- <el-button>取消</el-button> -->\r\n            </el-form-item>\r\n        </el-form>\r\n        <div v-else>请选择左边树</div>\r\n      </div>\r\n    </el-card>\r\n  </el-container>\r\n</template>\r\n<script>\r\nimport {getAll,deleteMenu,updateOne,addOne} from '../../../api/api'\r\nexport default {\r\n  data() {\r\n    return {\r\n      data: [],\r\n      sites:[],\r\n      defaultProps: {\r\n        children: \"childMenu\",\r\n        label: \"mnameCn\"\r\n      },\r\n      formShow:false,\r\n      form: {},\r\n      rules:{\r\n        mnameCn:[{ required: true, message: '请输入菜单中文名', trigger: 'blur' }],\r\n        mid:[{ required: true, message: '请输入站点ID', trigger: 'blur' },],\r\n        msIteId:[{ required: true, message: '请输入站点ID', trigger: 'blur'},],\r\n        msign:[{ required: true, message: '请输入唯一标识', trigger: 'blur' },],\r\n        mparentMenuId:[{ required: true, message: '请输入父级菜单标识', trigger: 'blur' },],\r\n        mhref:[{ required: true, message: '请输入路由', trigger: 'blur' },],\r\n        mfunction:[{ required: true, message: '请输入功能', trigger: 'blur' },],\r\n        morder:[{ required: true, message: '请输入排序', trigger: 'blur' },],\r\n        mdelFlag:[{ required: true, message: '请选择停用/启用标识', trigger: 'blur' },],\r\n      },\r\n      props:{\r\n          value:\"mid\",label:\"mnameCn\",children:\"childMenu\",checkStrictly: true, expandTrigger: 'hover' \r\n      },\r\n      options:[\r\n      ],\r\n      dialogFormVisible:false,\r\n      addForm:{\r\n      },\r\n      treeArr:[],\r\n    };\r\n  },\r\n  created(){\r\n    this.getData()\r\n  },\r\n  methods: {\r\n    getData(){\r\n      getAll().then((data)=>{\r\n        let Data=data.data\r\n        this.data=Data.menus;\r\n        this.options=Data.menus;\r\n        this.sites=Data.sites\r\n        // this.form=Data.menus.map((item)=>{\r\n        //   item\r\n        // })\r\n      })\r\n    },\r\n    handleChange(value) {\r\n        this.addForm.mparentMenuId=value[value.length-1]\r\n    },\r\n    onClear(){\r\n      this.addForm={}\r\n      this.dialogFormVisible=false;\r\n    },\r\n    onAdd(){\r\n      this.$refs.addForm.validate((valid) => {\r\n          if (valid) {\r\n            addOne(this.addForm).then((res)=>{\r\n              this.$refs.addForm.resetFields();\r\n              this.dialogFormVisible=false;\r\n              this.getData()\r\n            })\r\n          } else {\r\n            alert('error submit!!');\r\n            return false;\r\n          }\r\n      });\r\n      \r\n    },\r\n    isCheak(data,node){\r\n      node.checkedNodes.map((item)=>{\r\n        this.treeArr.push(item.mid)\r\n      })\r\n      // console.log(node)\r\n    },\r\n    onShow(){\r\n      this.dialogFormVisible=true;\r\n    },\r\n    onDel(){\r\n      let menuId={\r\n        menuId:this.treeArr.join()\r\n      }\r\n      deleteMenu(menuId).then((res)=>{\r\n        this.getData()\r\n        this.$message({\r\n          message: res.message,\r\n          type: 'success'\r\n        });\r\n      })\r\n    },\r\n    append(data) {\r\n      let id=1\r\n      const newChild = { id: id++, label: 'testtest', children: [] };\r\n      if (!data.children) {\r\n        this.$set(data, 'testtest', []);\r\n      }\r\n      data.testtest.push(newChild);\r\n    },\r\n\r\n    remove(node, data) {\r\n      const parent = node.parent;\r\n      const children = parent.data.children || parent.data;\r\n      const index = children.findIndex(d => d.id === data.id);\r\n      children.splice(index, 1);\r\n    },\r\n    renderContent(h, { node, data, store }) {\r\n      return (\r\n        <span class=\"custom-tree-node\">\r\n          <span>{node.label}</span>\r\n          <span>\r\n            <el-button size=\"mini\" type=\"text\" on-click={ () => this.append(data) }>Append</el-button>\r\n            <el-button size=\"mini\" type=\"text\" on-click={ () => this.remove(node, data) }>Delete</el-button>\r\n          </span>\r\n        </span>);\r\n    },\r\n    onSave(){\r\n      let Data=this.$common.deepClone(this.form)\r\n\r\n      Data.mfunction=Data.mfunction.join()\r\n      console.log(Data)\r\n      this.$refs.form.validate((valid) => {\r\n        if(valid){\r\n          updateOne(Data).then((res)=>{\r\n            if(res.status){\r\n              this.$message({\r\n                message: res.message,\r\n                type: 'success'\r\n              });\r\n              this.getData()\r\n            }else{\r\n              this.$message.error(res.message);\r\n            }\r\n          })\r\n        }else{\r\n          return\r\n        }\r\n      })\r\n    },\r\n    handleNodeClick(data) {\r\n      let Data=this.$common.deepClone(data)\r\n      this.form=Data\r\n\r\n      if(this.form.mfunction){\r\n        this.form.mfunction=this.form.mfunction.split(\",\")\r\n      }else{\r\n        this.form.mfunction=[]\r\n      }\r\n      this.formShow=true\r\n    }\r\n  }\r\n};\r\n</script>\r\n<style scoped>\r\n.container{\r\n  height: 100%;\r\n  padding: 10px;\r\n}\r\n.left-card{\r\n  width: 280px;\r\n}\r\n.right-card{\r\n  flex: 1;\r\n  margin-left: 10px;\r\n}\r\n.headbtn{\r\n  width: 100%;\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.2.2@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!./menu.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./menu.vue?vue&type=template&id=83d6f028&scoped=true&\"\nimport script from \"./menu.vue?vue&type=script&lang=js&\"\nexport * from \"./menu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menu.vue?vue&type=style&index=0&id=83d6f028&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.8@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"83d6f028\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}