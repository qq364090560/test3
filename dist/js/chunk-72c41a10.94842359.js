(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72c41a10"],{"0ba0":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"right-seach"},[a("el-form",{ref:"search",staticClass:"demo-form-inline",attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:"停车场"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.parkingLotId,callback:function(t){e.$set(e.search,"parkingLotId",t)},expression:"search.parkingLotId"}},e._l(e.parkData,(function(e){return a("el-option",{key:e.value,attrs:{label:e.pName,value:e.pId}})})),1)],1),a("el-form-item",{attrs:{label:"ID"}},[a("el-input",{attrs:{placeholder:"ID"},model:{value:e.search.consumerId,callback:function(t){e.$set(e.search,"consumerId",t)},expression:"search.consumerId"}})],1),a("el-form-item",{attrs:{label:"用户姓名"}},[a("el-input",{attrs:{placeholder:"用户姓名"},model:{value:e.search.consumerName,callback:function(t){e.$set(e.search,"consumerName",t)},expression:"search.consumerName"}})],1),a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{attrs:{placeholder:"电话"},model:{value:e.search.consumerTel,callback:function(t){e.$set(e.search,"consumerTel",t)},expression:"search.consumerTel"}})],1),a("el-form-item",{attrs:{label:"订单类型"}},[a("el-select",{attrs:{placeholder:"订单类型"},model:{value:e.search.orderType,callback:function(t){e.$set(e.search,"orderType",t)},expression:"search.orderType"}},e._l(e.options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"时间"}},[a("el-date-picker",{attrs:{type:"datetimerange",align:"right","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd HH:mm:ss","default-time":["00:00:00","23:59:59"]},model:{value:e.search.time,callback:function(t){e.$set(e.search,"time",t)},expression:"search.time"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.onQurey}},[e._v("查询")]),a("el-button",{attrs:{type:"primary"},on:{click:e.onClear}},[e._v("清空")])],1)],1)],1),a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("订单记录")])]),a("div",{staticClass:"tablehead"},[a("el-card",{staticClass:"box-card"},[a("el-table",{ref:"multipleTable",attrs:{data:e.tableData,height:"54vh","tooltip-effect":"dark"}},[a("el-table-column",{attrs:{fixed:"",prop:"orderCode",label:"订单号",width:"120"}}),a("el-table-column",{attrs:{prop:"consumerId",label:"ID",width:"120"}}),a("el-table-column",{attrs:{prop:"parkinglotName",label:"停车场名称",width:"120"}}),a("el-table-column",{attrs:{prop:"consumerName",label:"用户名",width:"120"}}),a("el-table-column",{attrs:{prop:"consumerTel",label:"电话",width:"120"}}),a("el-table-column",{attrs:{prop:"license",label:"车牌号"}}),a("el-table-column",{attrs:{prop:"carType",label:"车辆类型"}}),a("el-table-column",{attrs:{prop:"orderDes",label:"订单类型"}}),a("el-table-column",{attrs:{prop:"discountPrise",label:"优惠金额"}}),a("el-table-column",{attrs:{prop:"finalPrise",label:"支付金额"}}),a("el-table-column",{attrs:{prop:"payType",label:"支付方式"}}),a("el-table-column",{attrs:{"class-name":"red",label:"订单状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{style:2==t.row.orderStatus?"color:green":"color:red"},[e._v("\n              "+e._s(t.row.orderStatus1)+"\n              ")])]}}])}),a("el-table-column",{attrs:{prop:"orderPayTime",label:"支付时间"}}),a("el-table-column",{attrs:{prop:"detail",width:"220px",fixed:"right",label:"详情"}})],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,40,80],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])],1)},s=[],l=(a("566e"),a("d91d"),a("4ec3")),i={data:function(){return{search:{time:[],consumerName:"",consumerTel:"",orderType:""},options:[{label:"新用户办卡/不充电",value:1},{label:"新用户办卡/充电",value:2},{label:"临时停车",value:3},{label:"包月续费",value:4}],parkData:[],parkProps:{children:"",label:"pName"},pId:"",tableData:[],page:1,size:10,total:0}},created:function(){this.getOrg()},methods:{onQurey:function(){console.log(this.search),this.getOrder(this.search)},onClear:function(){this.$refs.search.resetFields(),this.search={},this.search.orderType="",this.search.time=[],this.tableData=[],this.page=1,this.size=10,this.total=0,console.log(this.search)},getOrder:function(e){var t=this,a={page:this.page,size:this.size};e&&(this.search.userId>2e4&&(a.userId=this.search.userId-2e4||""),this.search.userId<=2e4&&(a.userId=this.search.userId||""),""!=this.search.icNo&&(a.icNo=this.search.icNo),""!=this.search.parkingLotId&&(a.parkingLotId=this.search.parkingLotId),""!=this.search.userName&&(a.userName=this.search.userName),""!=this.search.tel&&(a.tel=this.search.tel),""!=this.search.time[0]&&(a.startDate=this.search.time[0]),""!=this.search.time[1]&&(a.endDate=this.search.time[1]),""!=this.pId&&(a.parkingLotId=this.pId)),Object(l["W"])(a).then((function(e){200==e.status&&(t.tableData=e.data.list,t.tableData.map((function(e){e.orderStatus1=2==e.orderStatus?"已支付":"未支付",e.discountPrise=e.discountPrise.toFixed(2),e.finalPrise=e.finalPrise.toFixed(2),e.consumerId=e.consumerId+2e4})),t.total=e.data.count)}))},handleSizeChange:function(e){this.size=e,this.getOrder(this.search)},handleCurrentChange:function(e){this.page=e,this.getOrder(this.search)},parkClick:function(e){this.pId=e.pId,this.getOrder()},getOrg:function(){var e=this,t={groupId:JSON.parse(sessionStorage.getItem("userInfo")).groupId,page:1,size:20};Object(l["W"])(t).then((function(t){e.tableData=t.data.list}))}}},o=i,c=(a("2e9b"),a("cba8")),n=Object(c["a"])(o,r,s,!1,null,"ae5ccd8c",null);t["default"]=n.exports},"2e9b":function(e,t,a){"use strict";a("d374")},d374:function(e,t,a){}}]);
//# sourceMappingURL=chunk-72c41a10.94842359.js.map